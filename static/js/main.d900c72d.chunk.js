(this["webpackJsonpburger-builder-app"]=this["webpackJsonpburger-builder-app"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},69:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),a=n(27),i=n.n(a),o=(n(40),n(41),n(9)),d=n(3),j=(n(42),n(43),n(11)),u=function(e){return function(e){var t=new Map;return t.set("bread-bottom",Object(c.jsx)("div",{className:"BurgerIngredients_BreadBottom"})),t.set("bread-top",Object(c.jsxs)("div",{className:"BurgerIngredients_BreadTop",children:[Object(c.jsx)("div",{className:"BurgerIngredients_Seeds1"}),Object(c.jsx)("div",{className:"BurgerIngredients_Seeds2"})]})),t.set("meat",Object(c.jsx)("div",{className:"BurgerIngredients_Meat"})),t.set("cheese",Object(c.jsx)("div",{className:"BurgerIngredients_Cheese"})),t.set("salad",Object(c.jsx)("div",{className:"BurgerIngredients_Salad"})),t.set("bacon",Object(c.jsx)("div",{className:"BurgerIngredients_Bacon"})),t.get(e)||null}(e.type)};u.propTypes={type:n.n(j).a.string.isRequired};var l=function(e){var t=e.ingredients,n=[];for(var r in t)for(var s=0;s<t[r];s++)n.push(Object(c.jsx)(u,{type:r},r+s));return n=n.flat(),Object(c.jsxs)("div",{className:"Burger",children:[Object(c.jsx)(u,{type:"bread-top"}),0===n.length?"Please start adding ingredients!":n,Object(c.jsx)(u,{type:"bread-bottom"})]})},b=(n(46),function(e){var t=e.label,n=e.added,r=e.removed,s=e.disabled;return Object(c.jsxs)("div",{className:"BuildControl",children:[Object(c.jsx)("div",{className:"BuildControl_Label",children:t}),Object(c.jsx)("button",{className:"Less",onClick:r,disabled:s,children:"Less"}),Object(c.jsx)("button",{className:"More",onClick:n,children:"More"})]})}),O=(n(47),[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}]),h=function(e){var t=e.ingredientAdded,n=e.ingredientRemoved,r=e.disabled,s=e.price,a=e.purchasable,i=e.ordered;return Object(c.jsxs)("div",{className:"BuildControls",children:[Object(c.jsxs)("p",{children:["Current price: ",Object(c.jsx)("strong",{children:s.toFixed(2)})]}),O.map((function(e){return Object(c.jsx)(b,{label:e.label,added:function(){return t(e.type)},removed:function(){return n(e.type)},disabled:r[e.type]},e.label)})),Object(c.jsx)("button",{className:"OrderButton",disabled:!a,onClick:i,children:"ORDER NOW"})]})},p=(n(48),n(49),function(e){var t=e.show,n=e.clicked;return t?Object(c.jsx)("div",{className:"Backdrop",onClick:n}):null}),x=Object(r.memo)((function(e){var t=e.children,n=e.show,r=e.modalClosed;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p,{show:n,clicked:r}),Object(c.jsx)("div",{className:"Modal",style:{transform:n?"translateY(0)":"translateY(-100vh)",opacity:n?"1":"0"},children:t})]})})),f=(n(50),function(e){var t=e.children,n=e.clicked,r=["Button",e.btnType];return Object(c.jsx)("button",{className:r.join(" "),onClick:n,children:t})}),g=function(e){var t=e.ingredients,n=e.purchaseCancelled,r=e.purchaseContinue,s=e.price,a=Object.keys(t).map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{style:{textTransform:"capitalize"},children:e}),":",t[e]]},e)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{children:"Your order"}),Object(c.jsx)("p",{children:"A delicious burger with the following ingredients:"}),Object(c.jsx)("ul",{children:a}),Object(c.jsx)("p",{children:Object(c.jsxs)("strong",{children:["Total price: ",s.toFixed(2)]})}),Object(c.jsx)("p",{children:"Continue to checkout?"}),Object(c.jsx)(f,{btnType:"Danger",clicked:n,children:"CANCEL"}),Object(c.jsx)(f,{btnType:"Success",clicked:r,children:"CONTINUE"})]})},m=n(28),v=n.n(m).a.create({baseURL:"https://react-burger-9045d-default-rtdb.firebaseio.com/"}),C=(n(69),function(e){return Object(c.jsx)("div",{className:"Spinner",children:"Loading..."})}),y=n(29),k=n(30),N=n(34),S=n(33),B=function(e,t){return function(n){Object(N.a)(s,n);var r=Object(S.a)(s);function s(){var e;Object(y.a)(this,s);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=r.call.apply(r,[this].concat(n))).state={error:null},e.errorConfirmHandler=function(){return e.setState({error:null})},e}return Object(k.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.requestInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.responseInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.requestInterceptor),t.interceptors.response.eject(this.responseInterceptor)}},{key:"render",value:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x,{show:this.state.error,modalClosed:this.errorConfirmHandler,children:this.state.error?this.state.error.message:null}),Object(c.jsx)(e,Object(o.a)({},this.props))]})}}]),s}(r.Component)},I=n(2),w={salad:.5,cheese:.4,meat:1.3,bacon:.7},T=B((function(e){var t=Object(r.useState)(null),n=Object(d.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(4),j=Object(d.a)(i,2),u=j[0],b=j[1],O=Object(r.useState)(!0),p=Object(d.a)(O,2),f=p[0],m=p[1],y=Object(r.useState)(!1),k=Object(d.a)(y,2),N=k[0],S=k[1],B=Object(r.useState)(!1),T=Object(d.a)(B,2),F=T[0],D=(T[1],Object(r.useState)(!1)),E=Object(d.a)(D,2),R=E[0],_=E[1],L=Object(I.f)(),M=function(e){var t=Object.keys(e).map((function(t){return e[t]})).reduce((function(e,t){return e+t}),0);m(t>0)};Object(r.useEffect)((function(){v.get("https://react-burger-9045d-default-rtdb.firebaseio.com/ingredients.json").then((function(e){a(e.data)})).catch((function(e){return _(!0)}))}),[]);var U=function(){S(!1)},Y=Object(o.a)({},s);for(var A in Y)Y[A]=Y[A]<=0;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x,{show:N,modalClosed:U,children:F||!s?R?Object(c.jsx)("p",{children:"Ingredients can't be loaded"}):Object(c.jsx)(C,{}):Object(c.jsx)(g,{ingredients:s,price:u,purchaseCancelled:U,purchaseContinue:function(){L.push("/checkout");var e=[];for(var t in s)e.push(encodeURIComponent(t)+"="+encodeURIComponent(s[t]));e.push("price="+u);var n=e.join("&");L.push({pathname:"/checkout",search:"?"+n})}})}),s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(l,{ingredients:s}),Object(c.jsx)(h,{ingredientAdded:function(e){var t=s[e]+1,n=Object(o.a)({},s);n[e]=t,a(n),b(u+w[e]),M(n)},ingredientRemoved:function(e){var t=s[e];if(!(t<=0)){var n=t-1,c=Object(o.a)({},s);c[e]=n,a(c),b(u-w[e]),M(c)}},disabled:Y,purchasable:f,ordered:function(){S(!0)},price:u})]}):R?Object(c.jsx)("p",{children:"Ingredients can't be loaded"}):Object(c.jsx)(C,{})]})}),v),F=(n(73),n(74),n.p+"static/media/burger-logo.ec69c7f6.png"),D=function(e){var t=e.height;return Object(c.jsx)("div",{style:{backgroundColor:"white",padding:"8px",height:t||"100%",boxSizing:"border-box",borderRadius:"10px"},children:Object(c.jsx)("img",{style:{height:"100%"},src:F,alt:"burger"})})},E=n(10),R=(n(75),function(e){var t=e.link,n=e.children;return Object(c.jsx)("li",{className:"NavigationItem",children:Object(c.jsx)(E.b,{to:t,exact:!0,children:n})})}),_=(n(76),function(e){return Object(c.jsxs)("ul",{className:"NavigationItems",children:[Object(c.jsx)(R,{link:"/",children:"BurgerBuilder"}),Object(c.jsx)(R,{link:"/orders",children:"Orders"})]})}),L=(n(77),function(e){var t=e.clicked;return Object(c.jsxs)("div",{onClick:t,className:"DrawerToggle",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}),M=function(e){var t=e.drawerToggleClicked;return Object(c.jsxs)("header",{className:"Toolbar",children:[Object(c.jsx)(L,{clicked:t}),Object(c.jsx)(D,{height:"80%"}),Object(c.jsx)("nav",{className:"DesktopOnly",children:Object(c.jsx)(_,{})})]})},U=(n(78),function(e){var t=e.closed,n=e.open,r=n?"SideDrawer_Open":"SideDrawer_Close";return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p,{show:n,clicked:t}),Object(c.jsxs)("div",{className:"SideDrawer ".concat(r),children:[Object(c.jsx)(D,{height:"11%"}),Object(c.jsx)("nav",{children:Object(c.jsx)(_,{})})]})]})}),Y=function(e){var t=e.children,n=Object(r.useState)(!1),s=Object(d.a)(n,2),a=s[0],i=s[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(M,{drawerToggleClicked:function(){return i(!a)}}),Object(c.jsx)(U,{open:a,closed:function(){return i(!1)}}),Object(c.jsx)("main",{children:t})]})},A=n(32),q=(n(79),function(e){var t=e.ingredients,n=e.checkoutCancelled,r=e.checkoutContinued;return Object(c.jsxs)("div",{className:"CheckoutSummary",children:[Object(c.jsx)("h1",{children:"We hope it taste well"}),Object(c.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(c.jsx)(l,{ingredients:t})}),Object(c.jsx)(f,{btnType:"Danger",clicked:n,children:"CANCEL"}),Object(c.jsx)(f,{btnType:"Success",clicked:r,children:"CONTINUE"})]})}),P=(n(80),function(e){var t=e.ingredients,n=e.price,s=Object(r.useState)(""),a=Object(d.a)(s,2),i=a[0],o=a[1],j=Object(r.useState)(""),u=Object(d.a)(j,2),l=u[0],b=u[1],O=Object(r.useState)(""),h=Object(d.a)(O,2),p=h[0],x=h[1],g=Object(r.useState)(""),m=Object(d.a)(g,2),y=m[0],k=m[1],N=Object(r.useState)(!1),S=Object(d.a)(N,2),B=S[0],w=S[1],T=Object(I.f)();return Object(c.jsxs)("div",{className:"ContactData",children:[Object(c.jsx)("h4",{children:"Enter your contact data"}),B?Object(c.jsx)(C,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{onSubmit:function(){return console.log("submitted")},children:[Object(c.jsx)("input",{type:"text",name:"username",placeholder:"Your username",value:i,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("input",{type:"text",name:"email",placeholder:"Your email",value:l,onChange:function(e){return b(e.target.value)}}),Object(c.jsx)("input",{type:"text",name:"street",placeholder:"Your street",value:p,onChange:function(e){return x(e.target.value)}}),Object(c.jsx)("input",{type:"text",name:"postalCode",placeholder:"Your postal code",value:y,onChange:function(e){return k(e.target.value)}})]}),Object(c.jsx)(f,{btnType:"Success",clicked:function(e){e.preventDefault(),console.log(t),w(!0);var c={ingredients:t,price:n,customer:{name:i,address:{street:p,zipCode:y,country:"DE"},email:l,deliveryMethod:"fastest"}};v.post("/orders.json",c).then((function(e){o(""),x(""),b(""),k(""),w(!1),T.push("/")})).catch((function(e){w(!1)}))},children:"ORDER"})]})]})}),z=function(e){var t=Object(r.useState)({salad:2,bacon:1,cheese:1,meat:1}),n=Object(d.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(0),o=Object(d.a)(i,2),j=o[0],u=o[1],l=Object(I.f)(),b=Object(I.g)(),O=Object(I.h)();Object(r.useEffect)((function(){var e,t=new URLSearchParams(b.search),n={},c=0,r=Object(A.a)(t.entries());try{for(r.s();!(e=r.n()).done;){var s=e.value;"price"===s[0]?c=s[1]:n[s[0]]=+s[1]}}catch(i){r.e(i)}finally{r.f()}a(n),u(c)}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(q,{ingredients:s,checkoutContinued:function(){l.replace("/checkout/contact-data")},checkoutCancelled:function(){l.goBack()}}),Object(c.jsx)(I.a,{path:O.path+"/contact-data",render:function(){return Object(c.jsx)(P,{ingredients:s,price:j})}})]})},W=function(e){var t=e.price,n=e.ingredients,r=[];for(var s in n)r.push({name:s,amount:n[s]});var a=r.map((function(e){return Object(c.jsxs)("span",{style:{textTransform:"capitalize",margin:"0 8px",border:"1px solid #ccc",padding:"5px",display:"inline-block"},children:[e.name," (",e.amount,")"]},e.name)}));return Object(c.jsxs)("div",{className:"Order",children:[Object(c.jsxs)("p",{children:["Ingredients: ",a]}),Object(c.jsxs)("p",{children:["Price: ",Object(c.jsxs)("strong",{children:["USD ",t.toFixed(2)]})]})]})},H=B((function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(!0),j=Object(d.a)(i,2),u=(j[0],j[1]);return Object(r.useEffect)((function(){v.get("/orders.json").then((function(e){var t=[];for(var n in e.data)t.push(Object(o.a)(Object(o.a)({},e.data[n]),{},{id:n}));a(t),u(!1)})).catch((function(e){return u(!1)}))}),[]),Object(c.jsx)(c.Fragment,{children:s.map((function(e){return Object(c.jsx)(W,{ingredients:e.ingredients,price:+e.price},e.id)}))})}),v);var J=function(){return Object(c.jsx)(Y,{children:Object(c.jsxs)(I.c,{children:[Object(c.jsx)(I.a,{path:"/checkout",children:Object(c.jsx)(z,{})}),Object(c.jsx)(I.a,{path:"/orders",children:Object(c.jsx)(H,{})}),Object(c.jsx)(I.a,{path:"/",exact:!0,children:Object(c.jsx)(T,{})})]})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},K=Object(c.jsx)(E.a,{children:Object(c.jsx)(J,{})});i.a.render(Object(c.jsx)(s.a.StrictMode,{children:K}),document.getElementById("root")),G()}},[[81,1,2]]]);
//# sourceMappingURL=main.d900c72d.chunk.js.map